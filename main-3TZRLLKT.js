import{a as K}from"./chunk-YVJJCTXB.js";import{a as ie,b as oe,c as u}from"./chunk-HCKBTDEE.js";import{a as q,b as J,c as me}from"./chunk-BORGDYLE.js";import{a as le}from"./chunk-3WSOHOJJ.js";import{G as se,N as ae,d as Q,e as ee,m as te,o as re,p as ne}from"./chunk-D6MFJNUH.js";import{T as W,Ta as Y,U as X,f as x,fb as $,g as O,h as _,i as G,ib as h,j as U,k as z,l as H,o as V,p as Z,r as y}from"./chunk-AP4JROEC.js";import{Fb as P,Gb as E,Hb as g,La as T,Nc as j,Wc as B,aa as C,ab as A,ad as L,bb as c,cb as D,da as p,ea as a,eb as b,gb as R,ia as w,ib as F,ja as I,jb as N,na as M,oa as l,qa as S,ub as k,wb as f}from"./chunk-72IXFK7V.js";var ye=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-VJFH526E.js").then(o=>o.AuthModule)},{path:"admin",loadChildren:()=>import("./chunk-SFX2DXHE.js").then(o=>o.AdminModule)},{path:"customer",loadChildren:()=>import("./chunk-KJ624GWF.js").then(o=>o.CustomerModule)},{path:"lead",loadChildren:()=>import("./chunk-3NON77L5.js").then(o=>o.LeadModule)},{path:"**",component:J}],de=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[y.forRoot(ye),y]});let o=e;return o})();function ve(o,e){o&1&&(P(0,"div"),g(1,"router-outlet"),E())}function Ce(o,e){o&1&&g(0,"router-outlet")}var pe=(()=>{let e=class e{constructor(t,i,n){this.uiStateService=t,this._snackBar=i,this.router=n,this.timeoutDuration=20*60*1e3,this.alertDuration=60*1e3,this.lastActivityTime=0,this.title="mortgage-client"}ngOnInit(){typeof window<"u"&&(this.resetTimer(),window.addEventListener("mousemove",()=>this.resetTimer()),window.addEventListener("click",()=>this.resetTimer()),window.addEventListener("keypress",()=>this.resetTimer()))}ngOnDestroy(){clearTimeout(this.timeoutId),clearInterval(this.intervalId)}resetTimer(){this.lastActivityTime=Date.now(),clearTimeout(this.timeoutId),clearInterval(this.intervalId),this.updateTimerDisplay(),this.timeoutId=setTimeout(()=>this.logout(),this.timeoutDuration)}logout(){alert("\u05D6\u05DE\u05DF \u05D4\u05EA\u05D5\u05E7\u05E3 \u05E4\u05D2 \u05D1\u05D2\u05DC\u05DC \u05D7\u05D5\u05E1\u05E8 \u05E4\u05E2\u05D9\u05DC\u05D5\u05EA."),window.sessionStorage!=null&&sessionStorage.removeItem("token"),this.router.navigate(["auth/login"])}updateTimerDisplay(){this.intervalId=setInterval(()=>{let t=Date.now()-this.lastActivityTime,i=this.timeoutDuration-t;i<=0?(clearInterval(this.intervalId),this.logout()):i<=this.alertDuration&&this.showAlert()},1e3)}showAlert(){this.openSnackBar("\u05D0\u05DD \u05DC\u05D0 \u05EA\u05DE\u05E9\u05D9\u05DA \u05D1\u05D2\u05DC\u05D9\u05E9\u05D4 \u05D1\u05D3\u05E7\u05D4 \u05D4\u05E7\u05E8\u05D5\u05D1\u05D4, \u05EA\u05D5\u05E6\u05D0 \u05DE\u05D4\u05DE\u05E2\u05E8\u05DB\u05EA \u05D5\u05EA\u05D0\u05DC\u05E5 \u05DC\u05D4\u05DB\u05E0\u05E1 \u05DE\u05D7\u05D3\u05E9","\u05D1\u05D8\u05DC"),clearInterval(this.intervalId)}openSnackBar(t,i){this._snackBar.open(t,i,{duration:1e4,horizontalPosition:"center",verticalPosition:"top",direction:"rtl",panelClass:["custom-snackbar"]})}get showGeneral(){return this.uiStateService.showGeneral}};e.\u0275fac=function(i){return new(i||e)(c(q),c(Y),c(Z))},e.\u0275cmp=M({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(i,n){i&1&&k(0,ve,2,0,"div",0)(1,Ce,1,0,"router-outlet",0),i&2&&(f("ngIf",n.showGeneral),A(),f("ngIf",!n.showGeneral))},dependencies:[B,V]});let o=e;return o})();var we="@",Ie=(()=>{let e=class e{constructor(t,i,n,s,d){this.doc=t,this.delegate=i,this.zone=n,this.animationType=s,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=I(b,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-2KFKUYAJ.js").then(i=>i)).catch(i=>{throw new C(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:n})=>{this._engine=i(this.animationType,this.doc);let s=new n(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,i){let n=this.delegate.createRenderer(t,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let s=new v(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let ge=d.createRenderer(t,i);s.use(ge),this.scheduler?.notify(9)}).catch(d=>{s.use(n)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){D()},e.\u0275prov=p({token:e,factory:e.\u0275fac});let o=e;return o})(),v=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,i){this.delegate.insertBefore(e,r,t,i)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,i){this.delegate.setAttribute(e,r,t,i)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,i){this.delegate.setStyle(e,r,t,i)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(we)}};function ce(o="animations"){return F("NgAsyncAnimations"),S([{provide:R,useFactory:(e,r,t)=>new Ie(e,r,t,o),deps:[j,U,N]},{provide:T,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var he=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[L,W,$,X,u,ne]});let o=e;return o})();var ue=(()=>{let e=class e{constructor(t){this.loginService=t}intercept(t,i){let n=this.loginService.GetToken(),s=t.clone({headers:t.headers.set("Authorization",`Bearer ${n}`)});return i.handle(s)}};e.\u0275fac=function(i){return new(i||e)(w(h))},e.\u0275prov=p({token:e,factory:e.\u0275fac});let o=e;return o})();var fe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e,bootstrap:[pe]}),e.\u0275inj=a({providers:[{provide:x,useClass:ue,multi:!0},ce(),O(_()),Q,te,ee,re,se,ie,h,oe],imports:[H,G,de,he,me,ae,le,K,u]});let o=e;return o})();z().bootstrapModule(fe,{ngZoneEventCoalescing:!0}).catch(o=>console.log(o));
