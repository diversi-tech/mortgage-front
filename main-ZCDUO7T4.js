import{a as K}from"./chunk-YVJJCTXB.js";import{a as oe,b as re,c as h}from"./chunk-HCKBTDEE.js";import{a as q,b as J,c as me}from"./chunk-BORGDYLE.js";import{a as le}from"./chunk-3WSOHOJJ.js";import{G as se,N as ae,d as Q,e as ee,m as te,o as ie,p as ne}from"./chunk-D6MFJNUH.js";import{T as W,Ta as Y,U as X,f as L,fb as $,g as x,h as _,i as G,ib as u,j as U,k as z,l as H,o as V,p as Z,r as y}from"./chunk-AP4JROEC.js";import{Fb as j,Gb as P,Hb as g,La as T,Nc as E,Wc as O,aa as I,ab as A,ad as B,bb as p,cb as D,da as c,ea as a,eb as b,gb as k,ia as C,ib as R,ja as w,jb as F,na as M,oa as l,qa as S,ub as N,wb as f}from"./chunk-72IXFK7V.js";var ye=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-VJFH526E.js").then(r=>r.AuthModule)},{path:"admin",loadChildren:()=>import("./chunk-SFX2DXHE.js").then(r=>r.AdminModule)},{path:"customer",loadChildren:()=>import("./chunk-KJ624GWF.js").then(r=>r.CustomerModule)},{path:"lead",loadChildren:()=>import("./chunk-3NON77L5.js").then(r=>r.LeadModule)},{path:"**",component:J}],de=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[y.forRoot(ye),y]});let r=e;return r})();function ve(r,e){r&1&&(j(0,"div"),g(1,"router-outlet"),P())}function Ie(r,e){r&1&&g(0,"router-outlet")}var ce=(()=>{let e=class e{constructor(t,o,n){this.uiStateService=t,this._snackBar=o,this.router=n,this.timeoutDuration=20*60*1e3,this.alertDuration=60*1e3,this.lastActivityTime=0,this.title="mortgage-client"}ngOnInit(){typeof window<"u"&&(this.resetTimer(),window.addEventListener("mousemove",()=>this.resetTimer()),window.addEventListener("click",()=>this.resetTimer()),window.addEventListener("keypress",()=>this.resetTimer()))}ngOnDestroy(){clearTimeout(this.timeoutId),clearInterval(this.intervalId)}resetTimer(){this.lastActivityTime=Date.now(),clearTimeout(this.timeoutId),clearInterval(this.intervalId),this.updateTimerDisplay(),this.timeoutId=setTimeout(()=>this.logout(),this.timeoutDuration)}logout(){alert("\u05D6\u05DE\u05DF \u05D4\u05EA\u05D5\u05E7\u05E3 \u05E4\u05D2 \u05D1\u05D2\u05DC\u05DC \u05D7\u05D5\u05E1\u05E8 \u05E4\u05E2\u05D9\u05DC\u05D5\u05EA."),window.sessionStorage!=null&&sessionStorage.removeItem("token"),this.router.navigate(["auth/login"])}updateTimerDisplay(){this.intervalId=setInterval(()=>{let t=Date.now()-this.lastActivityTime,o=this.timeoutDuration-t;o<=0?(clearInterval(this.intervalId),this.logout()):o<=this.alertDuration&&this.showAlert()},1e3)}showAlert(){this.openSnackBar("\u05D0\u05DD \u05DC\u05D0 \u05EA\u05DE\u05E9\u05D9\u05DA \u05D1\u05D2\u05DC\u05D9\u05E9\u05D4 \u05D1\u05D3\u05E7\u05D4 \u05D4\u05E7\u05E8\u05D5\u05D1\u05D4, \u05EA\u05D5\u05E6\u05D0 \u05DE\u05D4\u05DE\u05E2\u05E8\u05DB\u05EA \u05D5\u05EA\u05D0\u05DC\u05E5 \u05DC\u05D4\u05DB\u05E0\u05E1 \u05DE\u05D7\u05D3\u05E9","\u05D1\u05D8\u05DC"),clearInterval(this.intervalId)}openSnackBar(t,o){this._snackBar.open(t,o,{duration:1e4,horizontalPosition:"center",verticalPosition:"top",direction:"rtl",panelClass:["custom-snackbar"]})}get showGeneral(){return this.uiStateService.showGeneral}};e.\u0275fac=function(o){return new(o||e)(p(q),p(Y),p(Z))},e.\u0275cmp=M({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(o,n){o&1&&N(0,ve,2,0,"div",0)(1,Ie,1,0,"router-outlet",0),o&2&&(f("ngIf",n.showGeneral),A(),f("ngIf",!n.showGeneral))},dependencies:[O,V]});let r=e;return r})();var Ce="@",we=(()=>{let e=class e{constructor(t,o,n,s,d){this.doc=t,this.delegate=o,this.zone=n,this.animationType=s,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=w(b,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-2KFKUYAJ.js").then(o=>o)).catch(o=>{throw new I(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:n})=>{this._engine=o(this.animationType,this.doc);let s=new n(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,o){let n=this.delegate.createRenderer(t,o);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let s=new v(n);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let ge=d.createRenderer(t,o);s.use(ge),this.scheduler?.notify(9)}).catch(d=>{s.use(n)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){D()},e.\u0275prov=c({token:e,factory:e.\u0275fac});let r=e;return r})(),v=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,o){this.delegate.insertBefore(e,i,t,o)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,o){this.delegate.setAttribute(e,i,t,o)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,o){this.delegate.setStyle(e,i,t,o)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(o=>o.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ce)}};function pe(r="animations"){return R("NgAsyncAnimations"),S([{provide:k,useFactory:(e,i,t)=>new we(e,i,t,r),deps:[E,U,F]},{provide:T,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ue=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[B,W,$,X,h,ne]});let r=e;return r})();var he=(()=>{let e=class e{constructor(t){this.loginService=t}intercept(t,o){let n=this.loginService.GetToken(),s=t.clone({headers:t.headers.set("Authorization",`Bearer ${n}`)});return o.handle(s)}};e.\u0275fac=function(o){return new(o||e)(C(u))},e.\u0275prov=c({token:e,factory:e.\u0275fac});let r=e;return r})();var fe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l({type:e,bootstrap:[ce]}),e.\u0275inj=a({providers:[{provide:L,useClass:he,multi:!0},pe(),x(_()),Q,te,ee,ie,se,oe,u,re],imports:[H,G,de,ue,me,ae,le,K,h]});let r=e;return r})();if(typeof localStorage>"u"||localStorage===null){let r=(()=>{let e={},i=0;return{get length(){return i},key:t=>Object.keys(e)[t]||null,getItem:t=>e[t]||null,setItem:(t,o)=>{e[t]=o,i=Object.keys(e).length},removeItem:t=>{delete e[t],i=Object.keys(e).length},clear:()=>{e={},i=0}}})();global.localStorage=r}z().bootstrapModule(fe,{ngZoneEventCoalescing:!0}).catch(r=>console.log(r));
