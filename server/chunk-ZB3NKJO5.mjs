import './polyfills.server.mjs';
import{A as _r,B as Or,C as Mr,D as Yr,E as hr,F as Er,G as Ir,H as yr,r as w,s as f,t as Tr,u as kr,v as Nr,w as O,x as _,y as M,z as Y}from"./chunk-G7H3GEW2.mjs";function Hr(){return Object.assign({},O())}function qr(o,r){let e=r instanceof Date?f(r,0):new r(0);return e.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),e.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),e}var Cr=10,E=class{subPriority=0;validate(r,e){return!0}},I=class extends E{constructor(r,e,t,s,i){super(),this.value=r,this.validateValue=e,this.setValue=t,this.priority=s,i&&(this.subPriority=i)}validate(r,e){return this.validateValue(r,this.value,e)}set(r,e,t){return this.setValue(r,e,this.value,t)}},H=class extends E{priority=Cr;subPriority=-1;set(r,e){return e.timestampIsSet?r:f(r,qr(r,Date))}};var n=class{run(r,e,t,s){let i=this.parse(r,e,t,s);return i?{setter:new I(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,e,t){return!0}};var q=class extends n{priority=140;parse(r,e,t){switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})||t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"})}}set(r,e,t){return e.era=t,r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}incompatibleTokens=["R","u","t","T"]};var c={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},x={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function p(o,r){return o&&{value:r(o.value),rest:o.rest}}function u(o,r){let e=r.match(o);return e?{value:parseInt(e[0],10),rest:r.slice(e[0].length)}:null}function h(o,r){let e=r.match(o);if(!e)return null;if(e[0]==="Z")return{value:0,rest:r.slice(1)};let t=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,i=e[3]?parseInt(e[3],10):0,d=e[5]?parseInt(e[5],10):0;return{value:t*(s*kr+i*Tr+d*Nr),rest:r.slice(e[0].length)}}function L(o){return u(c.anyDigitsSigned,o)}function a(o,r){switch(o){case 1:return u(c.singleDigit,r);case 2:return u(c.twoDigits,r);case 3:return u(c.threeDigits,r);case 4:return u(c.fourDigits,r);default:return u(new RegExp("^\\d{1,"+o+"}"),r)}}function P(o,r){switch(o){case 1:return u(c.singleDigitSigned,r);case 2:return u(c.twoDigitsSigned,r);case 3:return u(c.threeDigitsSigned,r);case 4:return u(c.fourDigitsSigned,r);default:return u(new RegExp("^-?\\d{1,"+o+"}"),r)}}function T(o){switch(o){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Q(o,r){let e=r>0,t=e?r:1-r,s;if(t<=50)s=o||100;else{let i=t+50,d=Math.trunc(i/100)*100,y=o>=i%100;s=o+d-(y?100:0)}return e?s:1-s}function v(o){return o%400===0||o%4===0&&o%100!==0}var R=class extends n{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(r,e,t){let s=i=>({year:i,isTwoDigitYear:e==="yy"});switch(e){case"y":return p(a(4,r),s);case"yo":return p(t.ordinalNumber(r,{unit:"year"}),s);default:return p(a(e.length,r),s)}}validate(r,e){return e.isTwoDigitYear||e.year>0}set(r,e,t){let s=r.getFullYear();if(t.isTwoDigitYear){let d=Q(t.year,s);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}let i=!("era"in e)||e.era===1?t.year:1-t.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}};var W=class extends n{priority=130;parse(r,e,t){let s=i=>({year:i,isTwoDigitYear:e==="YY"});switch(e){case"Y":return p(a(4,r),s);case"Yo":return p(t.ordinalNumber(r,{unit:"year"}),s);default:return p(a(e.length,r),s)}}validate(r,e){return e.isTwoDigitYear||e.year>0}set(r,e,t,s){let i=Mr(r,s);if(t.isTwoDigitYear){let y=Q(t.year,i);return r.setFullYear(y,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),_(r,s)}let d=!("era"in e)||e.era===1?t.year:1-t.year;return r.setFullYear(d,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),_(r,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var F=class extends n{priority=130;parse(r,e){return e==="R"?P(4,r):P(e.length,r)}set(r,e,t){let s=f(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),M(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var C=class extends n{priority=130;parse(r,e){return e==="u"?P(4,r):P(e.length,r)}set(r,e,t){return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var B=class extends n{priority=120;parse(r,e,t){switch(e){case"Q":case"QQ":return a(e.length,r);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})||t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,e){return e>=1&&e<=4}set(r,e,t){return r.setMonth((t-1)*3,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var G=class extends n{priority=120;parse(r,e,t){switch(e){case"q":case"qq":return a(e.length,r);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})||t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,e){return e>=1&&e<=4}set(r,e,t){return r.setMonth((t-1)*3,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var X=class extends n{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(r,e,t){let s=i=>i-1;switch(e){case"M":return p(u(c.month,r),s);case"MM":return p(a(2,r),s);case"Mo":return p(t.ordinalNumber(r,{unit:"month"}),s);case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})||t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"})}}validate(r,e){return e>=0&&e<=11}set(r,e,t){return r.setMonth(t,1),r.setHours(0,0,0,0),r}};var z=class extends n{priority=110;parse(r,e,t){let s=i=>i-1;switch(e){case"L":return p(u(c.month,r),s);case"LL":return p(a(2,r),s);case"Lo":return p(t.ordinalNumber(r,{unit:"month"}),s);case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})||t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"})}}validate(r,e){return e>=0&&e<=11}set(r,e,t){return r.setMonth(t,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function Lr(o,r,e){let t=w(o),s=Yr(t,e)-r;return t.setDate(t.getDate()-s*7),t}var A=class extends n{priority=100;parse(r,e,t){switch(e){case"w":return u(c.week,r);case"wo":return t.ordinalNumber(r,{unit:"week"});default:return a(e.length,r)}}validate(r,e){return e>=1&&e<=53}set(r,e,t,s){return _(Lr(r,t,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function Qr(o,r){let e=w(o),t=Or(e)-r;return e.setDate(e.getDate()-t*7),e}var V=class extends n{priority=100;parse(r,e,t){switch(e){case"I":return u(c.week,r);case"Io":return t.ordinalNumber(r,{unit:"week"});default:return a(e.length,r)}}validate(r,e){return e>=1&&e<=53}set(r,e,t){return M(Qr(r,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var Br=[31,28,31,30,31,30,31,31,30,31,30,31],Gr=[31,29,31,30,31,30,31,31,30,31,30,31],Z=class extends n{priority=90;subPriority=1;parse(r,e,t){switch(e){case"d":return u(c.date,r);case"do":return t.ordinalNumber(r,{unit:"date"});default:return a(e.length,r)}}validate(r,e){let t=r.getFullYear(),s=v(t),i=r.getMonth();return s?e>=1&&e<=Gr[i]:e>=1&&e<=Br[i]}set(r,e,t){return r.setDate(t),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var K=class extends n{priority=90;subpriority=1;parse(r,e,t){switch(e){case"D":case"DD":return u(c.dayOfYear,r);case"Do":return t.ordinalNumber(r,{unit:"date"});default:return a(e.length,r)}}validate(r,e){let t=r.getFullYear();return v(t)?e>=1&&e<=366:e>=1&&e<=365}set(r,e,t){return r.setMonth(0,t),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function $(o,r){let e=w(o);return isNaN(r)?f(o,NaN):(r&&e.setDate(e.getDate()+r),e)}function k(o,r,e){let t=O(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=w(o),d=i.getDay(),N=(r%7+7)%7,g=7-s,dr=r<0||r>6?r-(d+g)%7:(N+g)%7-(d+g)%7;return $(i,dr)}var j=class extends n{priority=90;parse(r,e,t){switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}}validate(r,e){return e>=0&&e<=6}set(r,e,t,s){return r=k(r,t,s),r.setHours(0,0,0,0),r}incompatibleTokens=["D","i","e","c","t","T"]};var U=class extends n{priority=90;parse(r,e,t,s){let i=d=>{let y=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+y};switch(e){case"e":case"ee":return p(a(e.length,r),i);case"eo":return p(t.ordinalNumber(r,{unit:"day"}),i);case"eee":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}}validate(r,e){return e>=0&&e<=6}set(r,e,t,s){return r=k(r,t,s),r.setHours(0,0,0,0),r}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var J=class extends n{priority=90;parse(r,e,t,s){let i=d=>{let y=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+y};switch(e){case"c":case"cc":return p(a(e.length,r),i);case"co":return p(t.ordinalNumber(r,{unit:"day"}),i);case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})||t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"})}}validate(r,e){return e>=0&&e<=6}set(r,e,t,s){return r=k(r,t,s),r.setHours(0,0,0,0),r}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function vr(o){let e=w(o).getDay();return e===0&&(e=7),e}function Rr(o,r){let e=w(o),t=vr(e),s=r-t;return $(e,s)}var S=class extends n{priority=90;parse(r,e,t){let s=i=>i===0?7:i;switch(e){case"i":case"ii":return a(e.length,r);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return p(t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return p(t.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return p(t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return p(t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,e){return e>=1&&e<=7}set(r,e,t){return r=Rr(r,t),r.setHours(0,0,0,0),r}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var rr=class extends n{priority=80;parse(r,e,t){switch(e){case"a":case"aa":case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,e,t){return r.setHours(T(t),0,0,0),r}incompatibleTokens=["b","B","H","k","t","T"]};var er=class extends n{priority=80;parse(r,e,t){switch(e){case"b":case"bb":case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,e,t){return r.setHours(T(t),0,0,0),r}incompatibleTokens=["a","B","H","k","t","T"]};var tr=class extends n{priority=80;parse(r,e,t){switch(e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,e,t){return r.setHours(T(t),0,0,0),r}incompatibleTokens=["a","b","t","T"]};var or=class extends n{priority=70;parse(r,e,t){switch(e){case"h":return u(c.hour12h,r);case"ho":return t.ordinalNumber(r,{unit:"hour"});default:return a(e.length,r)}}validate(r,e){return e>=1&&e<=12}set(r,e,t){let s=r.getHours()>=12;return s&&t<12?r.setHours(t+12,0,0,0):!s&&t===12?r.setHours(0,0,0,0):r.setHours(t,0,0,0),r}incompatibleTokens=["H","K","k","t","T"]};var sr=class extends n{priority=70;parse(r,e,t){switch(e){case"H":return u(c.hour23h,r);case"Ho":return t.ordinalNumber(r,{unit:"hour"});default:return a(e.length,r)}}validate(r,e){return e>=0&&e<=23}set(r,e,t){return r.setHours(t,0,0,0),r}incompatibleTokens=["a","b","h","K","k","t","T"]};var nr=class extends n{priority=70;parse(r,e,t){switch(e){case"K":return u(c.hour11h,r);case"Ko":return t.ordinalNumber(r,{unit:"hour"});default:return a(e.length,r)}}validate(r,e){return e>=0&&e<=11}set(r,e,t){return r.getHours()>=12&&t<12?r.setHours(t+12,0,0,0):r.setHours(t,0,0,0),r}incompatibleTokens=["h","H","k","t","T"]};var ir=class extends n{priority=70;parse(r,e,t){switch(e){case"k":return u(c.hour24h,r);case"ko":return t.ordinalNumber(r,{unit:"hour"});default:return a(e.length,r)}}validate(r,e){return e>=1&&e<=24}set(r,e,t){let s=t<=24?t%24:t;return r.setHours(s,0,0,0),r}incompatibleTokens=["a","b","h","H","K","t","T"]};var ar=class extends n{priority=60;parse(r,e,t){switch(e){case"m":return u(c.minute,r);case"mo":return t.ordinalNumber(r,{unit:"minute"});default:return a(e.length,r)}}validate(r,e){return e>=0&&e<=59}set(r,e,t){return r.setMinutes(t,0,0),r}incompatibleTokens=["t","T"]};var ur=class extends n{priority=50;parse(r,e,t){switch(e){case"s":return u(c.second,r);case"so":return t.ordinalNumber(r,{unit:"second"});default:return a(e.length,r)}}validate(r,e){return e>=0&&e<=59}set(r,e,t){return r.setSeconds(t,0),r}incompatibleTokens=["t","T"]};var cr=class extends n{priority=30;parse(r,e){let t=s=>Math.trunc(s*Math.pow(10,-e.length+3));return p(a(e.length,r),t)}set(r,e,t){return r.setMilliseconds(t),r}incompatibleTokens=["t","T"]};var mr=class extends n{priority=10;parse(r,e){switch(e){case"X":return h(x.basicOptionalMinutes,r);case"XX":return h(x.basic,r);case"XXXX":return h(x.basicOptionalSeconds,r);case"XXXXX":return h(x.extendedOptionalSeconds,r);case"XXX":default:return h(x.extended,r)}}set(r,e,t){return e.timestampIsSet?r:f(r,r.getTime()-Y(r)-t)}incompatibleTokens=["t","T","x"]};var pr=class extends n{priority=10;parse(r,e){switch(e){case"x":return h(x.basicOptionalMinutes,r);case"xx":return h(x.basic,r);case"xxxx":return h(x.basicOptionalSeconds,r);case"xxxxx":return h(x.extendedOptionalSeconds,r);case"xxx":default:return h(x.extended,r)}}set(r,e,t){return e.timestampIsSet?r:f(r,r.getTime()-Y(r)-t)}incompatibleTokens=["t","T","X"]};var fr=class extends n{priority=40;parse(r){return L(r)}set(r,e,t){return[f(r,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var lr=class extends n{priority=20;parse(r){return L(r)}set(r,e,t){return[f(r,t),{timestampIsSet:!0}]}incompatibleTokens="*"};var Wr={G:new q,y:new R,Y:new W,R:new F,u:new C,Q:new B,q:new G,M:new X,L:new z,w:new A,I:new V,d:new Z,D:new K,E:new j,e:new U,c:new J,i:new S,a:new rr,b:new er,B:new tr,h:new or,H:new sr,K:new nr,k:new ir,m:new ar,s:new ur,S:new cr,X:new mr,x:new pr,t:new fr,T:new lr};var Xr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ar=/^'([^]*?)'?$/,Vr=/''/g,Zr=/\S/,Kr=/[a-zA-Z]/;function Es(o,r,e,t){let s=Hr(),i=t?.locale??s.locale??_r,d=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,y=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(r==="")return o===""?w(e):f(e,NaN);let N={firstWeekContainsDate:d,weekStartsOn:y,locale:i},g=[new H],dr=r.match(zr).map(m=>{let l=m[0];if(l in hr){let b=hr[l];return b(m,i.formatLong)}return m}).join("").match(Xr),wr=[];for(let m of dr){!t?.useAdditionalWeekYearTokens&&Ir(m)&&yr(m,r,o),!t?.useAdditionalDayOfYearTokens&&Er(m)&&yr(m,r,o);let l=m[0],b=Wr[l];if(b){let{incompatibleTokens:gr}=b;if(Array.isArray(gr)){let Dr=wr.find(Pr=>gr.includes(Pr.token)||Pr.token===l);if(Dr)throw new RangeError(`The format string mustn't contain \`${Dr.fullToken}\` and \`${m}\` at the same time`)}else if(b.incompatibleTokens==="*"&&wr.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);wr.push({token:l,fullToken:m});let xr=b.run(o,m,i.match,N);if(!xr)return f(e,NaN);g.push(xr.setter),o=xr.rest}else{if(l.match(Kr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");if(m==="''"?m="'":l==="'"&&(m=$r(m)),o.indexOf(m)===0)o=o.slice(m.length);else return f(e,NaN)}}if(o.length>0&&Zr.test(o))return f(e,NaN);let Fr=g.map(m=>m.priority).sort((m,l)=>l-m).filter((m,l,b)=>b.indexOf(m)===l).map(m=>g.filter(l=>l.priority===m).sort((l,b)=>b.subPriority-l.subPriority)).map(m=>m[0]),D=w(e);if(isNaN(D.getTime()))return f(e,NaN);let br={};for(let m of Fr){if(!m.validate(D,N))return f(e,NaN);let l=m.set(D,br,N);Array.isArray(l)?(D=l[0],Object.assign(br,l[1])):D=l}return f(e,D)}function $r(o){return o.match(Ar)[1].replace(Vr,"'")}export{Es as a};
