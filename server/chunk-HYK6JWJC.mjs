import './polyfills.server.mjs';
import{a as K,b as Q,c as de}from"./chunk-6UWCFF2H.mjs";import{c as W}from"./chunk-3R3IJXUO.mjs";import{a as _}from"./chunk-75SGCFCO.mjs";import{a as oe,b as re,c as f}from"./chunk-NXJLRVPP.mjs";import{a as le}from"./chunk-MOPF5JQC.mjs";import{G as ae,N as me,d as ee,e as te,m as ie,o as ne,p as se}from"./chunk-QQ6DYRED.mjs";import{B as Z,Ba as q,C as $,Pa as J,Sa as h}from"./chunk-B3SZUYRB.mjs";import{f as G,h as U,i as z,j as u,n as H,o as V,s as X,u as Y,w}from"./chunk-TIRFLIF6.mjs";import{$a as R,Cb as E,Db as x,Eb as v,Fa as D,Nc as L,W as I,Yc as B,Z as p,Za as F,_ as a,_a as c,bb as N,ca as M,cd as O,da as S,db as b,fb as k,gb as P,ha as T,ia as m,ka as A,rb as j,tb as y}from"./chunk-ZE4Y54UW.mjs";var ye=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-JQC4TTFK.mjs").then(o=>o.AuthModule)},{path:"admin",loadChildren:()=>import("./chunk-SRH76TTJ.mjs").then(o=>o.AdminModule)},{path:"customer",loadChildren:()=>import("./chunk-2MQ5AHP2.mjs").then(o=>o.CustomerModule)},{path:"lead",loadChildren:()=>import("./chunk-XHEYNXD4.mjs").then(o=>o.LeadModule)},{path:"**",component:Q}],pe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=a({imports:[w.forRoot(ye),w]});let o=e;return o})();function ve(o,e){o&1&&(E(0,"div"),v(1,"router-outlet"),x())}function we(o,e){o&1&&v(0,"router-outlet")}var g=(()=>{let e=class e{constructor(i,t,n){this.uiStateService=i,this._snackBar=t,this.router=n,this.timeoutDuration=20*60*1e3,this.alertDuration=60*1e3,this.lastActivityTime=0,this.title="mortgage-client"}ngOnInit(){typeof window<"u"&&(this.resetTimer(),window.addEventListener("mousemove",()=>this.resetTimer()),window.addEventListener("click",()=>this.resetTimer()),window.addEventListener("keypress",()=>this.resetTimer()))}ngOnDestroy(){clearTimeout(this.timeoutId),clearInterval(this.intervalId)}resetTimer(){this.lastActivityTime=Date.now(),clearTimeout(this.timeoutId),clearInterval(this.intervalId),this.updateTimerDisplay(),this.timeoutId=setTimeout(()=>this.logout(),this.timeoutDuration)}logout(){alert("\u05D6\u05DE\u05DF \u05D4\u05EA\u05D5\u05E7\u05E3 \u05E4\u05D2 \u05D1\u05D2\u05DC\u05DC \u05D7\u05D5\u05E1\u05E8 \u05E4\u05E2\u05D9\u05DC\u05D5\u05EA."),window.sessionStorage!=null&&sessionStorage.removeItem("token"),this.router.navigate(["auth/login"])}updateTimerDisplay(){this.intervalId=setInterval(()=>{let i=Date.now()-this.lastActivityTime,t=this.timeoutDuration-i;t<=0?(clearInterval(this.intervalId),this.logout()):t<=this.alertDuration&&this.showAlert()},1e3)}showAlert(){this.openSnackBar("\u05D0\u05DD \u05DC\u05D0 \u05EA\u05DE\u05E9\u05D9\u05DA \u05D1\u05D2\u05DC\u05D9\u05E9\u05D4 \u05D1\u05D3\u05E7\u05D4 \u05D4\u05E7\u05E8\u05D5\u05D1\u05D4, \u05EA\u05D5\u05E6\u05D0 \u05DE\u05D4\u05DE\u05E2\u05E8\u05DB\u05EA \u05D5\u05EA\u05D0\u05DC\u05E5 \u05DC\u05D4\u05DB\u05E0\u05E1 \u05DE\u05D7\u05D3\u05E9","\u05D1\u05D8\u05DC"),clearInterval(this.intervalId)}openSnackBar(i,t){this._snackBar.open(i,t,{duration:1e4,horizontalPosition:"center",verticalPosition:"top",direction:"rtl",panelClass:["custom-snackbar"]})}get showGeneral(){return this.uiStateService.showGeneral}};e.\u0275fac=function(t){return new(t||e)(c(K),c(q),c(Y))},e.\u0275cmp=T({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,n){t&1&&j(0,ve,2,0,"div",0)(1,we,1,0,"router-outlet",0),t&2&&(y("ngIf",n.showGeneral),F(),y("ngIf",!n.showGeneral))},dependencies:[B,X]});let o=e;return o})();var Ce="@",Ie=(()=>{let e=class e{constructor(i,t,n,s,d){this.doc=i,this.delegate=t,this.zone=n,this.animationType=s,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=S(N,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-JB2NPHOL.mjs").then(t=>t)).catch(t=>{throw new I(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:n})=>{this._engine=t(this.animationType,this.doc);let s=new n(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,t){let n=this.delegate.createRenderer(i,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let s=new C(n);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let ge=d.createRenderer(i,t);s.use(ge),this.scheduler?.notify(9)}).catch(d=>{s.use(n)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(t){R()},e.\u0275prov=p({token:e,factory:e.\u0275fac});let o=e;return o})(),C=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,i,t){this.delegate.insertBefore(e,r,i,t)}removeChild(e,r,i){this.delegate.removeChild(e,r,i)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,i,t){this.delegate.setAttribute(e,r,i,t)}removeAttribute(e,r,i){this.delegate.removeAttribute(e,r,i)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,i,t){this.delegate.setStyle(e,r,i,t)}removeStyle(e,r,i){this.delegate.removeStyle(e,r,i)}setProperty(e,r,i){this.shouldReplay(r)&&this.replay.push(t=>t.setProperty(e,r,i)),this.delegate.setProperty(e,r,i)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,i){return this.shouldReplay(r)&&this.replay.push(t=>t.listen(e,r,i)),this.delegate.listen(e,r,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ce)}};function ce(o="animations"){return k("NgAsyncAnimations"),A([{provide:b,useFactory:(e,r,i)=>new Ie(e,r,i,o),deps:[L,H,P]},{provide:D,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ue=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=a({imports:[O,Z,J,$,f,se]});let o=e;return o})();var he=(()=>{let e=class e{constructor(i){this.loginService=i}intercept(i,t){let n=this.loginService.GetToken(),s=i.clone({headers:i.headers.set("Authorization",`Bearer ${n}`)});return t.handle(s)}};e.\u0275fac=function(t){return new(t||e)(M(h))},e.\u0275prov=p({token:e,factory:e.\u0275fac});let o=e;return o})();var fe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e,bootstrap:[g]}),e.\u0275inj=a({providers:[{provide:G,useClass:he,multi:!0},ce(),U(z()),ee,ie,te,ne,ae,oe,h,re],imports:[V,u,pe,ue,de,me,le,_,f]});let o=e;return o})();var Me=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e,bootstrap:[g]}),e.\u0275inj=a({imports:[fe,W,u]});let o=e;return o})();export{Me as a};
