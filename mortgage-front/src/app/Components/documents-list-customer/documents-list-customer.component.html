<main>
  <div dir="rtl">
    <mat-form-field>
      <mat-label>חפש</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="" #input />
    </mat-form-field>
  </div>

  <div class="example-table-container" dir="rtl">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8"
      dir="rtl"
    >
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef><b> שם מסמך </b></th>
        <td mat-cell *matCellDef="let element">
          {{ element.task_description }}
        </td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef><b> סוג עסקה </b></th>
        <td mat-cell *matCellDef="let element">
          {{ element.document_type_id }}
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef><b> סטטוס </b></th>
        <td mat-cell *matCellDef="let element">
          {{ changeDocStatusToString(element.status) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="icon">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          @if(element.status==0){
          <button
            mat-icon-button
            aria-label="upload file"
            mat-icon-button
            (click)="fileInput.click()"
            matTooltip="צירוף מסמך"
            matTooltipPosition="left"
          >
            <mat-icon>attach_file</mat-icon>
            <input
              type="file"
              #fileInput
              (change)="onFileSelected($event)"
              style="display: none"
            />
          </button>
          }
           @else {
          התעדכן בתאריך:  {{ element.created_at }}
          }
        </td>
      </ng-container>

      <ng-container matColumnDef="approval">
        <th mat-header-cell *matHeaderCellDef><b> אישור פעולה </b></th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox class="example-margin"></mat-checkbox>
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</main>
<!-- נסיון להוספת כפתור חץ -->
